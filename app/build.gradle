plugins {
    id "application"
    id "scala"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation "com.google.guava:guava:31.0.1-jre"

    testImplementation "org.scala-lang:scala3-library_3:3.2.1"
    testImplementation "org.scalatest:scalatest_3:3.2.14"
    testImplementation "co.helmethair:scalatest-junit-runner:0.2.0"
}

testing {
    suites {
        // Configure the built-in test suite
        test {
            // Use JUnit Jupiter test framework
            useJUnitJupiter("5.8.2")

            targets {
                all {
                    testTask.configure {
                        useJUnitPlatform {
                            includeEngines "junit-jupiter"
                            includeEngines "scalatest"
                            testLogging {
                                events("passed", "skipped", "failed")
                            }
                        }
                    }
                }
            }
        }
    }
}

application {
    mainClass = "foo.App"
}
